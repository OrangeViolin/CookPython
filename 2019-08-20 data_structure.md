# 2019-08-20 data_structure

## Python 内置数据类型全览
  
- 基本数据类型-数字
  - 整数 
  - 浮点数
  - 布尔值 True Fales 注意要大写的 T F 才是特定字符

- 组合数据类型：容器
  - 序列
    - 字符串
    - 列表
    - 元祖
  - 映射：字典
  - 集合

除此之外，Python 标准库当中还提供了一系列专门的数据类型，例如时间与日期、固定类型的数组、堆队列、同步队列与集合等。


                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 

### 组合数据类型：容器 Container 定义

定义：容器是一种把多个元素组织在一起的数据结构。

可以把它看做是一个盒子、一栋房子、一个柜子，里面可以塞任何东西。从技术角度来说，当可以用询问某个元素是否包含在其中时，这个对象就可以认为是一个容器，比如 list，set，tuples 都是容器对象。

特点：

- 容器中的元素可以逐个地迭代获取，可以用 in，not in 关键字判断元素是否在容器中。
- 不是所有的容器都是迭代器。
- 通常这类数据结构把所有的元素存储在内存中（也有一些特例，比如迭代器和生成器对象）
- 可以分为可变容器（Mutable）和不可变容器（immutable）。可变容器有，列表，集合，字典；不可变的有字符串，range（）生成的等差数列，元组。集合，又分为 Set 和 Frozen Set，其中 Set 是可变的，Frozen Set 是不可变的。
- 字符串、由 range()函数生成的等差数列是有序类型（Sequence Type），而集合与字典是无序的。

容器对象：

- 字符串
- 由 range()函数生成的等差数列
- 列表
- 元组
- 集合
- 字典

问题：
- 为什么要有容器这个概念?
- 为什么要把 range() 函数生成的等差数列单独列出来讲
- Python 的数据类型究竟有哪些？
- 数据类型是一个什么概念？
- 其他编程语言，没有可迭代对象这个方法吗？


## 基本数据类型

### 整数 int()

- 在程序中的表示方法和数学上的写法一模一样，例如 1，100，-8080，0
- 带上双引号或者单引号就变为了字符串
- 这一句没看懂：计算机由于使用二进制，所以，有时候用十六进制表示整数比较方便，十六进制用0x前缀和0-9，a-f表示，例如：0xff00，0xa5b4c3d2，等等。

### 浮点数 float（）

- 之所以称为浮点数，因为按照科学计数法表示，一个浮点数的小数点位置是可变的。
- 对于很大很小的浮点数，必须用科学计数法表示，把 10 用 e 替代，1.23x109就是1.23e9

整数和浮点数在计算机内部存储方式是不同的，整数运算永远是精确的（除法也是精确的）而浮点数运算则可能会有四舍五入的误差。

这个部分没啥好讲的吧。

### 布尔值

一定要大写 True/False

### 序列

序列：指它的成员都是有序排列的，并且可以通过下标偏移量访问到它的一个或几个成员。

- 字符串：单引号或者双引号  "abcd"
- 列表，中括号，可以增加 [0,'abcd']
- 元组，用小括号，不可以增加 (0,'abcd','def')

序列操作

- 切片操作符 [ ]
  - 方括号内写上下标偏移符就可以定位到某一个特定的元素类型，计数从 0 开始
  - [0:4] 访问 0~3 个元素，不包含 4
  - [-1]是从后往前访问，-1 是最后一个变量
- 成员关系操作符 （in、not in）指定对象是否在序列当中
  - 对象 in 变量 
- 连接操作符 +
- 重复操作符 *

#### 字符串

如果你的字符串内包括了单引号，那么字符串定义符号就改为双引号。 
    
#### 列表

#### 列表的定义

```
classmate = ['Micheal','bob']
```

列表特点：

- 有序
- 元素可变

#### 列表的操作

列表操作：

* 根据索引可以提取列表元素，变量名[索引号]，
  - 其中[:]返回整个列表
  - [5:]从索引为 5 的值开始直到末尾
  - [:3]从索引 0 开始，直到索引 3 之前（不包括 3）
  - [2:6]从索引 2 开始，直到索引 6 之前（不包括 6）
* 给列表增加元素 变量.append() 默认加到列表最后，要加入的元素写在括号内
* 把元素插入到指定的位置 变量.append(下标偏移量,元素)
* 要删除list末尾的元素，用 pop()方法，也可以用 变量.remove()
* 要删除指定位置的元素，用pop(下标偏移量)
* 要把某个元素替换成别的元素
  - 可以直接赋值给对应的索引位置：变量[下标偏移量]=新值
  - s[start:stop:step] = t，跟 range 的三个参数类似

列表的内建函数

- len()
- max()
- min()

处理经验：

- 列表中的元素可以是不同类型。为了方便，遇到由不同类型数据构成的列表，想办法把不同类型的数据分门别类地拆分出来，整理清楚 —— 这种工作甚至有个专门的名称与之关联：数据清洗。

##### 列表的生成

```python
a_list = []
b_list = [1, 2, 3]
list(), or list(iterable) 
[(expression with x) for x in iterable]
```

第三种：把其他类型转换为列表

```python
a_list = list(range(10,0,-1))
print(a_list)
[10, 9, 8, 7, 6, 5, 4, 3, 2, 1]
```

注明：range()比较特殊，返回的是一个可迭代对象，所以要用 list()转为列表。

第四种：列表生成式

```python
c_list = [2**x for x in range(8)]
print(c_list)
```
注明：列表生成式还可以和 if 语句一起用。

##### 列表操作符

- 拼接：+
- 复制：*
- 逻辑运算：in 和 not in，<,<=,>,>=,!=,==

而后两个列表也和两个字符串一样，可以被比较，即，可以进行逻辑运算；比较方式也跟字符串一样，从两个列表各自的第一个元素开始逐个比较，“一旦决出胜负马上停止”：

```python
a_list = [1, 2, 3]
b_list = [4, 5, 6]
c_list = a_list + b_list * 3
c_list
7 not in c_list
a_list > b_list
```

#### 元组 tuple 

tuple 最大的特点就是不能修改。
因为不可变，所以代码更安全。所以如果可能，能用 tuple 代替 list 就尽量用tuple。

如果要定义一个空的tuple，可以写成()：
```
t = ()
```
但是

```
t = (1)
```

定义的不是tuple，是1这个数！类型是整数。
这是因为括号()既可以表示tuple，又可以表示数学公式中的小括号，这就产生了歧义，因此，Python规定，这种情况下，按小括号进行计算，计算结果自然是1。

所以，只有1个元素的tuple定义时必须加一个逗号,，来消除歧义：
```
t = (1,)
```

Python在显示只有1个元素的tuple时，也会加一个逗号,，以免你误解成数学计算意义上的括号。

一个“可变的”tuple：
```
t = ('a', 'b', ['A', 'B'])
t[2][0] = 'X'
t[2][1] = 'Y'
>>> t
('a', 'b', ['X', 'Y'])
```

这个tuple定义的时候有3个元素，分别是'a'，'b'和一个list。表面上看，tuple的元素确实变了，但其实变的不是tuple的元素，而是list的元素。tuple一开始指向的list并没有改成别的list，所以，tuple所谓的“不变”是说，tuple的每个元素，指向永远不变。即指向'a'，就不能改成指向'b'，**指向一个list，就不能改成指向其他对象，但指向的这个list本身是可变的**！

理解了“指向不变”后，要创建一个内容也不变的tuple怎么做？那就必须保证tuple的每一个元素本身也不能变。

### 映射类型-字典
  
- 字典：
  - 简称 dict
  - 映射的类型
  - 编写格式： {'哈希值':'对象'} 
  - 举例：{'lenth':'2'}
  - 字典属于可变数据， 往字典里添加数据的格式为 变量名['哈希值']=对象
  - 定义一个空的字典 变量名 = {}
  - 为字典赋值

字典最重要的性质是能够快速查找数据的对应关系，比如：
```
d = {'Michael': 95, 'Bob': 75, 'Tracy': 85}
d['Michael']
95
```
为什么能这么快呢？

为什么dict查找速度这么快？因为dict的实现原理和查字典是一样的。假设字典包含了1万个汉字，我们要查某一个字，一个办法是把字典从第一页往后翻，直到找到我们想要的字为止，这种方法就是在list中查找元素的方法，list越大，查找越慢。

第二种方法是先在字典的索引表里（比如部首表）查这个字对应的页码，然后直接翻到该页，找到这个字。无论找哪个字，这种查找速度都非常快，不会随着字典大小的增加而变慢。

dict就是第二种实现方式，给定一个名字，比如'Michael'，dict在内部就可以直接计算出Michael对应的存放成绩的“页码”，也就是95这个数字存放的内存地址，直接取出来，所以速度非常快。

你可以猜到，这种key-value存储方式，在放进去的时候，必须根据key算出value的存放位置，这样，取的时候才能根据key直接拿到value。

如何为字典赋值？

```


和list比较，dict有以下几个特点：

查找和插入的速度极快，不会随着key的增加而变慢；
需要占用大量的内存，内存浪费多。
而list相反：

查找和插入的时间随着元素的增加而增加；
占用空间小，浪费内存很少。



### 集合

## 数据类型相关操作

- type() 可以查看数据类型
  - int() str() bool() 可以变换数据类型

## 附

其他分类方法：按照可变和不可变分类。

 - 不可变数据（3 个）：Number（数字）、String（字符串）、Tuple（元组）；
  - 可变数据（3 个）：List（列表）、Dictionary（字典）、Set（集合）。


## changelog

- 2019-08-20 根据 Python 官方文档调整结构

